# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é CampusFlow

–î–∞–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —Ñ—É–ª—Å—Ç–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è CampusFlow —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker –∏ Docker Compose.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#–ø–æ–¥—Ä–æ–±–Ω–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–¥–ª—è-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
5. [–î–æ—Å—Ç—É–ø –ø–æ IP-–∞–¥—Ä–µ—Å—É](#-–¥–æ—Å—Ç—É–ø-–ø–æ-ip-–∞–¥—Ä–µ—Å—É)
6. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏)
7. [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
9. [–î–µ–ø–ª–æ–π –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤](#-–¥–µ–ø–ª–æ–π-–∏–∑-–≥–æ—Ç–æ–≤—ã—Ö-–æ–±—Ä–∞–∑–æ–≤)
10. [–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ/CI)](#-–ø—É–±–ª–∏–∫–∞—Ü–∏—è-–æ–±—Ä–∞–∑–æ–≤-–ª–æ–∫–∞–ª—å–Ω–æci)

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Linux (Ubuntu 20.04+), macOS, Windows 10/11
- **RAM**: 4 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 GB)
- **CPU**: 2 —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 —è–¥—Ä–∞)
- **–î–∏—Å–∫**: 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Docker**: –≤–µ—Ä—Å–∏—è 20.10+
- **Docker Compose**: –≤–µ—Ä—Å–∏—è 2.0+

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- **RAM**: 16 GB
- **CPU**: 8 —è–¥–µ—Ä
- **–î–∏—Å–∫**: 100 GB SSD
- **–°–µ—Ç—å**: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∞–¥—Ä–µ—Å

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/marselleze/campusflow.git
cd campusflow
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏!)
nano .env
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:**
- `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤ (–º–∏–Ω–∏–º—É–º 256 –±–∏—Ç)
- `SPRING_MAIL_USERNAME` –∏ `SPRING_MAIL_PASSWORD` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ email

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

- **Frontend**: http://localhost (–∏–ª–∏ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞)
- **Backend API**: http://localhost:8080/api (–∏–ª–∏ IP-–∞–¥—Ä–µ—Å:8080/api)
- **PostgreSQL**: localhost:5432

## ‚öôÔ∏è –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   PostgreSQL    ‚îÇ
‚îÇ   (React +      ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Spring Boot) ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   Database      ‚îÇ
‚îÇ   Nginx)        ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ   Port: 80      ‚îÇ    ‚îÇ   Port: 8080    ‚îÇ    ‚îÇ   Port: 5432    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

1. **postgres** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL 15
2. **backend** - Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. **frontend** - React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Nginx

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
POSTGRES_DB=schedule
POSTGRES_USER=schedule_user
POSTGRES_PASSWORD=your-secure-password
```

#### Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/schedule
SPRING_DATASOURCE_USERNAME=schedule_user
SPRING_DATASOURCE_PASSWORD=your-secure-password

# JWT
JWT_SECRET=your-super-secret-jwt-key-min-256-bits
JWT_EXPIRATION=86400000

# Email
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your-email@gmail.com
SPRING_MAIL_PASSWORD=your-app-password
```

## üåê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP-–∞–¥—Ä–µ—Å–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
SERVER_IP=192.168.1.100
FRONTEND_URL=http://192.168.1.100
BACKEND_URL=http://192.168.1.100:8080/api
CORS_ALLOWED_ORIGINS=*
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –≤–µ—Ä—Å–∏–∏

```bash
# –ó–∞–ø—É—Å–∫ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
sudo ufw allow 80/tcp
sudo ufw allow 8080/tcp
sudo ufw allow 5432/tcp  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ë–î
```

## üåê –î–æ—Å—Ç—É–ø –ø–æ IP-–∞–¥—Ä–µ—Å—É

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ IP

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ IP-–∞–¥—Ä–µ—Å—É –±–µ–∑ SSL. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ HTTP.

### –ü—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–∞:

- **–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø**: http://localhost
- **–°–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø**: http://192.168.1.100 (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à IP)
- **API**: http://192.168.1.100:8080/api

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP-–∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –£–∑–Ω–∞—Ç—å IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
ip addr show | grep inet

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ .env —Ñ–∞–π–ª–µ
SERVER_IP=192.168.1.100
FRONTEND_URL=http://192.168.1.100
BACKEND_URL=http://192.168.1.100:8080/api
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f postgres
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `logging.yml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–æ–≤:

```yaml
version: '3.8'
services:
  backend:
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
```

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
#!/bin/bash
# backup-db.sh

BACKUP_DIR="./backups"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="$BACKUP_DIR/campusflow_backup_$DATE.sql"

mkdir -p $BACKUP_DIR

# –°–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
docker-compose exec -T postgres pg_dump -U schedule_user schedule > $BACKUP_FILE

# –°–∂–∏–º–∞–µ–º
gzip $BACKUP_FILE

echo "Backup created: $BACKUP_FILE.gz"
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

```bash
#!/bin/bash
# restore-db.sh

BACKUP_FILE=$1

if [ -z "$BACKUP_FILE" ]; then
    echo "Usage: $0 <backup_file.sql.gz>"
    exit 1
fi

# –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
gunzip -c $BACKUP_FILE | docker-compose exec -T postgres psql -U schedule_user -d schedule

echo "Database restored from: $BACKUP_FILE"
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ crontab:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 2:00
0 2 * * * /path/to/campusflow/backup-db.sh

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
0 3 * * 0 find /path/to/campusflow/backups -name "*.gz" -mtime +30 -delete
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker-compose logs <service_name>

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose build --no-cache <service_name>
docker-compose up -d <service_name>
```

#### 2. –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
docker-compose exec postgres psql -U schedule_user -d schedule

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose exec backend env | grep SPRING_DATASOURCE
```

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å CORS

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω CORS:

```bash
CORS_ALLOWED_ORIGINS=*
```

#### 4. –û—à–∏–±–∫–∏ —Å —Ñ–∞–π–ª–∞–º–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
docker-compose exec backend ls -la /app/uploads

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º volumes
docker-compose down -v
docker-compose up -d
```

#### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ IP

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :80
netstat -tlnp | grep :8080

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw status
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
docker-compose down
docker-compose up -d --build

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker system prune -a

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
docker system df

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
docker network ls
docker network inspect campusflow_campusflow-network
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è PostgreSQL

–î–æ–±–∞–≤—å—Ç–µ –≤ `docker-compose.yml`:

```yaml
services:
  postgres:
    command: >
      postgres
      -c shared_preload_libraries=pg_stat_statements
      -c max_connections=200
      -c shared_buffers=256MB
      -c effective_cache_size=1GB
      -c maintenance_work_mem=64MB
      -c checkpoint_completion_target=0.9
      -c wal_buffers=16MB
      -c default_statistics_target=100
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```yaml
services:
  backend:
    environment:
      JAVA_OPTS: "-Xmx1g -Xms512m -XX:+UseG1GC"
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è IP-–∞–¥—Ä–µ—Å–æ–≤

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/marselleze/campusflow.git
cd campusflow

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env - —É–∫–∞–∂–∏—Ç–µ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞

# 3. –ó–∞–ø—É—Å–∫
docker-compose up -d

# 4. –î–æ—Å—Ç—É–ø
# Frontend: http://YOUR_IP
# Backend: http://YOUR_IP:8080/api
```

## üö¢ –î–µ–ø–ª–æ–π –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤

–ï—Å–ª–∏ –æ–±—Ä–∞–∑—ã —É–∂–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ GHCR), –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –±–µ–∑ —Å–±–æ—Ä–∫–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
export REGISTRY=ghcr.io
export IMAGE_NAMESPACE=marselleze
export IMAGE_BACKEND_NAME=campusflow-backend
export IMAGE_FRONTEND_NAME=campusflow-frontend
export IMAGE_TAG=latest

# –ó–∞–ø—É—Å–∫ –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker compose -f docker-compose.yml -f docker-compose.images.yml up -d
```

## üõ≥ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ/CI)

### –õ–æ–∫–∞–ª—å–Ω–æ (–∏–∑ –≤–∞—à–µ–π –º–∞—à–∏–Ω—ã)

```bash
# –í–æ–π—Ç–∏ –≤ —Ä–µ–µ—Å—Ç—Ä (–ø—Ä–∏–º–µ—Ä –¥–ª—è GHCR)
docker login ghcr.io -u <GITHUB_USERNAME> -p <GH_TOKEN>

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
export REGISTRY=ghcr.io
export IMAGE_NAMESPACE=<–≤–∞—à-namespace>
export IMAGE_TAG=latest

# –°–∫—Ä–∏–ø—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
./scripts/publish-images.sh
# Windows PowerShell
./scripts/publish-images.ps1
```

### –ß–µ—Ä–µ–∑ GitHub Actions

Workflow `.github/workflows/docker-publish.yml` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã –ø—Ä–∏ push –≤ –≤–µ—Ç–∫—É `main` –∏ –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ
- –ü—É–±–ª–∏–∫—É–µ—Ç –≤ `ghcr.io/<owner>/campusflow-backend:<tag>` –∏ `ghcr.io/<owner>/campusflow-frontend:<tag>`

```yaml
# –¢–µ–≥–∏
latest            # –¥–ª—è push –≤ main
v1.0.0            # –¥–ª—è —Ä–µ–ª–∏–∑–æ–≤
```

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–∞–∫:

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–≥–∏ –æ–±—Ä–∞–∑–æ–≤ (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö)
export IMAGE_TAG=v1.0.0

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–∑ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker compose -f docker-compose.yml -f docker-compose.images.yml up -d
```

---

**–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**
